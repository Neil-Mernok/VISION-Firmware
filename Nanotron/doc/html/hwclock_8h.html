<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nanoLOC Demo Driver: include/hwclock.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_6e2f0f50c68f4b0ea8bf72de81d50b90.html">include</a></div>
<h1>hwclock.h File Reference</h1>Timer support for AVR. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="config_8h-source.html">config.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ntrxtypes_8h-source.html">ntrxtypes.h</a>&quot;</code><br>

<p>
<a href="hwclock_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#ee3c099580c48d099307b9493696fd23">NKEYS</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#20623b49c1ed1dd212ad55448a651a9c">hwclock</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return system clock in milliseconds  <a href="#20623b49c1ed1dd212ad55448a651a9c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#3f8fa222f4976a01d7517c4ab86e7c4b">hwclock_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clock tick initialization  <a href="#3f8fa222f4976a01d7517c4ab86e7c4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#033d55843d0da3c641301ad41a423fa6">hwclock_stop</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#369bb91cd7b5ed9cc814bfb036fcfe9d">hwclock_tune</a> (int8_t tuningDirection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modifies the time interval between any two subsequent timer ticks.  <a href="#369bb91cd7b5ed9cc814bfb036fcfe9d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#c8c1a9f4fefba19cbaa462744963a5f3">hwdelay</a> (uint32_t t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#87f07be0d623932db45b4998f9175e8a">HWDelayms</a> (uint16_t ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delay processing for n milliseconds.  <a href="#87f07be0d623932db45b4998f9175e8a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#5f99322ada800b90a8a06d0127b07513">HWDelayus</a> (uint16_t us)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delay processing for n microseconds.  <a href="#5f99322ada800b90a8a06d0127b07513"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hwclock_8h.html#5046a51cac69ae907ee73317c3f12286">StartTimer2</a> (void)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Timer support for AVR. 
<p>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2007-Dez-11 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>S. Radtke <code></code>(C) 2007 Nanotron Technologies</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>BuildNumber = "BuildNumber : 7951";<p>
This file contains the function definitions for the utility functions of the AVR hardware timer. </dd></dl>

<p>
Definition in file <a class="el" href="hwclock_8h-source.html">hwclock.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="ee3c099580c48d099307b9493696fd23"></a><!-- doxytag: member="hwclock.h::NKEYS" ref="ee3c099580c48d099307b9493696fd23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NKEYS&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="hwclock_8h-source.html#l00018">18</a> of file <a class="el" href="hwclock_8h-source.html">hwclock.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="20623b49c1ed1dd212ad55448a651a9c"></a><!-- doxytag: member="hwclock.h::hwclock" ref="20623b49c1ed1dd212ad55448a651a9c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hwclock           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return system clock in milliseconds 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>time in milliseconds</dd></dl>
This function returns the elapsed time since program start in milliseconds. 
<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00223">223</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="3f8fa222f4976a01d7517c4ab86e7c4b"></a><!-- doxytag: member="hwclock.h::hwclock_init" ref="3f8fa222f4976a01d7517c4ab86e7c4b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hwclock_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
clock tick initialization 
<p>
This function initializes the Timer 0 in the AVR to generate an interrupt ever 10 ms. 
<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00196">196</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="033d55843d0da3c641301ad41a423fa6"></a><!-- doxytag: member="hwclock.h::hwclock_stop" ref="033d55843d0da3c641301ad41a423fa6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hwclock_stop           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="369bb91cd7b5ed9cc814bfb036fcfe9d"></a><!-- doxytag: member="hwclock.h::hwclock_tune" ref="369bb91cd7b5ed9cc814bfb036fcfe9d" args="(int8_t tuningDirection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hwclock_tune           </td>
          <td>(</td>
          <td class="paramtype">int8_t&nbsp;</td>
          <td class="paramname"> <em>tuningDirection</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Modifies the time interval between any two subsequent timer ticks. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tuningDirection</em>&nbsp;</td><td>+1 to speed up the hwclock, -1 to speed down, 0 to reset to default. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00241">241</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="c8c1a9f4fefba19cbaa462744963a5f3"></a><!-- doxytag: member="hwclock.h::hwdelay" ref="c8c1a9f4fefba19cbaa462744963a5f3" args="(uint32_t t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hwdelay           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deprecated function please dont use for new projects 
<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00066">66</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="87f07be0d623932db45b4998f9175e8a"></a><!-- doxytag: member="hwclock.h::HWDelayms" ref="87f07be0d623932db45b4998f9175e8a" args="(uint16_t ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HWDelayms           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delay processing for n milliseconds. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>this is the delay in milliseconds</td></tr>
  </table>
</dl>
This function is used for waiting TIMER_RELOAD_VALUEbefore continue with programm execution. Interrupts are still processed. 
<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00134">134</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="5f99322ada800b90a8a06d0127b07513"></a><!-- doxytag: member="hwclock.h::HWDelayus" ref="5f99322ada800b90a8a06d0127b07513" args="(uint16_t us)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HWDelayus           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>us</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delay processing for n microseconds. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>us</em>&nbsp;</td><td>this is the delay in microseconds</td></tr>
  </table>
</dl>
This function is used for waiting before continue with programm execution. Interrupts are still processed. Because of the high inaccuracy of the delay function this function tries to compensate the delay error by adding an offset. 
<p>
Definition at line <a class="el" href="hwclock_8c-source.html#l00089">89</a> of file <a class="el" href="hwclock_8c-source.html">hwclock.c</a>.
</div>
</div><p>
<a class="anchor" name="5046a51cac69ae907ee73317c3f12286"></a><!-- doxytag: member="hwclock.h::StartTimer2" ref="5046a51cac69ae907ee73317c3f12286" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StartTimer2           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>
	</head>
<body bgcolor="#ffffff"><img src="blind.gif" width="20" height="20">
</body>
</html>
