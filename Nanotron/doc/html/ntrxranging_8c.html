<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nanoLOC Demo Driver: phy/ntrxranging.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_db525a4c00d7db3d2afed83adf8f196e.html">phy</a></div>
<h1>ntrxranging.c File Reference</h1>Ranging support functions. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="portation_8h-source.html">portation.h</a>&quot;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;<a class="el" href="ntrxtypes_8h-source.html">ntrxtypes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="phy_8h-source.html">phy.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="registermap_8h-source.html">registermap.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nnspi_8h-source.html">nnspi.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ntrxutil_8h-source.html">ntrxutil.h</a>&quot;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>

<p>
<a href="ntrxranging_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRangingT.html">RangingT</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#072e0bccf79168f4be76c3f22b0c0f76">ACTTXID</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#edda2249555d7f968786b23ba4b42ef8">CLK_32MHZ</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#dd9d79c967d29060e6d6ad699ad5c0e3">CLK_4MHZ</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#0c601a9e71a27d1c2e06d52db0d8dda6">CLK_LOD20</a>&nbsp;&nbsp;&nbsp;(2000.0/244175)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#7194053a42881b1b4bc8546b4c8713e9">COUNTER</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#af2d99638d71c152481142faf725c1cd">MAX_DIFF_ALLOWED</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#5c9e9e79d80972f0ae843976140d867d">PHASEOFFSETACK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#8b1aaede50a20d8e3e99447277a3cec0">PHASEOFFSETDATA</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#4a8e992fd2977532f6fffc5dcb12e829">PULSE_DET_UC_MAX</a>&nbsp;&nbsp;&nbsp;(2*24)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#42efd84fccf8750646217880c165026b">RANGING_DATA_LEN</a>&nbsp;&nbsp;&nbsp;11</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#c58b8d6864729178d8718413d32b5100">RANGING_DEBUG</a>&nbsp;&nbsp;&nbsp;NoDebugging</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#a2bc5efb02be120c9d6f597fd4db58d0">RANGING_ERROR</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#22b93c4f491e7d91ffa31c6d77d2256f">RANGING_IDLE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#c2b7f54fbce9a4e7ba2280c26a77a92f">RANGING_RUNNING</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#9084653b5a5589b27dd9209f6b2be08d">SPEED_OF_AIR</a>&nbsp;&nbsp;&nbsp;299.792458</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#bda7dbad1652e64fd46ba1f076e8c561">TOAOFFSETMEANACK_H</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#c4b52fa7548de093c430f40a029e3c32">TOAOFFSETMEANACK_L</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#8806c5c2d262f9e4f241563c2f2487ac">TOAOFFSETMEANDATA_H</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#2c923d13490e0a7bf842ff5825629ad9">TOAOFFSETMEANDATA_L</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#51694c117d51247a38e8952a967a5b21">TXRESPTIME_H</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#adf0e568b27221dbcc0d41f5af087da9">TXRESPTIME_L</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#27585647e5f4bcf79db2301ef54f2719">delay</a> (uint8_t *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates airtime and substract all processing delays.  <a href="#27585647e5f4bcf79db2301ef54f2719"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#10adfd36c3c127ae5d47e4d18654a717">dist</a> (uint8_t *p1, uint8_t *p2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates the distance between two stations.  <a href="#10adfd36c3c127ae5d47e4d18654a717"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#361f0e5c2930b643953fbc188f21e3e3">error_handler</a> (int16_t err)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#54b149c9e384fc41d4e807ee6c4dd1f7">NTRXRangingACK</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function collects data from a hardware acknowledge.  <a href="#54b149c9e384fc41d4e807ee6c4dd1f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#3ffea022c9043c189bf64004ce13cfc4">NTRXRangingInit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initialize the local ranging memory.  <a href="#3ffea022c9043c189bf64004ce13cfc4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#7e64f6445b5262b0b6be979d4a4b9cc7">NTRXRangingInterrupt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called on baseband timer interrupt (ranging timeouts).  <a href="#7e64f6445b5262b0b6be979d4a4b9cc7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#70907643ce9dfc85cd56cd19c1fb945c">NTRXRangingIsIDLE</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function returns the internal status of ranging.  <a href="#70907643ce9dfc85cd56cd19c1fb945c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#77d2951842af5da82551588eeb2d0b3e">NTRXRangingRequest</a> (<a class="el" href="structMsgT.html">MsgT</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function try to start a ranging process.  <a href="#77d2951842af5da82551588eeb2d0b3e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#2a85e9cf03ffb50a4be65b7634d7625b">NTRXRangingRX</a> (<a class="el" href="structMsgT.html">MsgT</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function collects data from a rx packet.  <a href="#2a85e9cf03ffb50a4be65b7634d7625b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#3e5285e9f49a0a4986ae628c18312105">NTRXReadRegisterACK</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the ack ranging registers after a packet transmission to remote ranging values.  <a href="#3e5285e9f49a0a4986ae628c18312105"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#185d2ef0380262bf075637de78122922">NTRXReadRegisterRX</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the rx ranging registers after a packet reception to local ranging values.  <a href="#185d2ef0380262bf075637de78122922"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#b734661d6de9cc596ccab5b05ee656a7">NTRXSet0</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a snapshot from local and remote ranging values for later distance calculation.  <a href="#b734661d6de9cc596ccab5b05ee656a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#95181139ecf22fe6a2354771db31c3a5">NTRXSet1</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a snapshot from local and remote ranging values for later distance calculation.  <a href="#95181139ecf22fe6a2354771db31c3a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#5d212d5040fbb60593d70d92edb9e3c6">NTRXStartTimeout</a> (uint16_t to_ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start timeout.  <a href="#5d212d5040fbb60593d70d92edb9e3c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#a3c1b65f74445b59384eb28802dd8e25">NTRXStopTimeout</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel running timeout.  <a href="#a3c1b65f74445b59384eb28802dd8e25"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a> (<a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a> rgPermission, <a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a> rgGetMemory)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers function pointers to ranging specific functions.  <a href="#ad61da6bf12a1b0f0b4d986cead4143c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structPhyModeSetT.html">PhyModeSetT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#93806a2ab72ce9ba673c0ac29fd87395">modeSet</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structPhyPIB.html">PhyPIB</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#c6bf7bba136f1383deb2932be153b881">phyPIB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">structure for all layer configuration settings  <a href="#c6bf7bba136f1383deb2932be153b881"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ntrxtypes_8h.html#10be15f806ba2b998eabaa78f85402ea">callbackfn_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#d978f7ee674fb95595d77d2966423a8e">phySendMsgUp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structRangingT.html">RangingT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#e7316be52deeeed3d7d3b98cc045f7d3">prMEM</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#aee5e1b194e05427cc1e93b4a515057c">rangingGetMemory</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structRangingT.html">RangingT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#1f5fef49ba274950f88214cce035a97c">rangingMEM</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structRangingMsgT.html">RangingMsgT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#e1bf7955c4b6c0202e5e81a442e1269f">rangingMSG</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#4cb90114e062af5522c606b7bdfcbd96">rangingPermission</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structMsgT.html">MsgT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#ccbebab9f81ef8a98fa9ca3fa5e632f2">recBuffer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#f5ae82768750b53466cd7d710c609e51">to_cnt_down</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#ddd312e4dfa0b4c6a0d9b8783961c3e2">to_mod</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#1349017ec2b3bb42fe1ad5abf4f074e3">to_stop</a> = FALSE</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMsgT.html">MsgT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#c8a2e3eac97d762116052cf5cfdd2584">txSendMsg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMsgT.html">MsgT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8c.html#97bc9a3f01dfc7d193c5f9e80abc409d">upMsg</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Ranging support functions. 
<p>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2009-07-07 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Christian Bock <code></code>(C) 2009 Nanotron Technologies</dd></dl>
This file contains the source code for the implementation of the NTRX ranging functions. 
<p>
Definition in file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="072e0bccf79168f4be76c3f22b0c0f76"></a><!-- doxytag: member="ntrxranging.c::ACTTXID" ref="072e0bccf79168f4be76c3f22b0c0f76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACTTXID&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00047">47</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="edda2249555d7f968786b23ba4b42ef8"></a><!-- doxytag: member="ntrxranging.c::CLK_32MHZ" ref="edda2249555d7f968786b23ba4b42ef8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_32MHZ&nbsp;&nbsp;&nbsp;32          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01293">1293</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="dd9d79c967d29060e6d6ad699ad5c0e3"></a><!-- doxytag: member="ntrxranging.c::CLK_4MHZ" ref="dd9d79c967d29060e6d6ad699ad5c0e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_4MHZ&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01292">1292</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="0c601a9e71a27d1c2e06d52db0d8dda6"></a><!-- doxytag: member="ntrxranging.c::CLK_LOD20" ref="0c601a9e71a27d1c2e06d52db0d8dda6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_LOD20&nbsp;&nbsp;&nbsp;(2000.0/244175)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01294">1294</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="7194053a42881b1b4bc8546b4c8713e9"></a><!-- doxytag: member="ntrxranging.c::COUNTER" ref="7194053a42881b1b4bc8546b4c8713e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COUNTER&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00046">46</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="af2d99638d71c152481142faf725c1cd"></a><!-- doxytag: member="ntrxranging.c::MAX_DIFF_ALLOWED" ref="af2d99638d71c152481142faf725c1cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DIFF_ALLOWED&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00057">57</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="5c9e9e79d80972f0ae843976140d867d"></a><!-- doxytag: member="ntrxranging.c::PHASEOFFSETACK" ref="5c9e9e79d80972f0ae843976140d867d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHASEOFFSETACK&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00037">37</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="8b1aaede50a20d8e3e99447277a3cec0"></a><!-- doxytag: member="ntrxranging.c::PHASEOFFSETDATA" ref="8b1aaede50a20d8e3e99447277a3cec0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHASEOFFSETDATA&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00042">42</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="4a8e992fd2977532f6fffc5dcb12e829"></a><!-- doxytag: member="ntrxranging.c::PULSE_DET_UC_MAX" ref="4a8e992fd2977532f6fffc5dcb12e829" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PULSE_DET_UC_MAX&nbsp;&nbsp;&nbsp;(2*24)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01295">1295</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="42efd84fccf8750646217880c165026b"></a><!-- doxytag: member="ntrxranging.c::RANGING_DATA_LEN" ref="42efd84fccf8750646217880c165026b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_DATA_LEN&nbsp;&nbsp;&nbsp;11          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00050">50</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="c58b8d6864729178d8718413d32b5100"></a><!-- doxytag: member="ntrxranging.c::RANGING_DEBUG" ref="c58b8d6864729178d8718413d32b5100" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_DEBUG&nbsp;&nbsp;&nbsp;NoDebugging          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00023">23</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="a2bc5efb02be120c9d6f597fd4db58d0"></a><!-- doxytag: member="ntrxranging.c::RANGING_ERROR" ref="a2bc5efb02be120c9d6f597fd4db58d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_ERROR&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00045">45</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="22b93c4f491e7d91ffa31c6d77d2256f"></a><!-- doxytag: member="ntrxranging.c::RANGING_IDLE" ref="22b93c4f491e7d91ffa31c6d77d2256f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_IDLE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00029">29</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="c2b7f54fbce9a4e7ba2280c26a77a92f"></a><!-- doxytag: member="ntrxranging.c::RANGING_RUNNING" ref="c2b7f54fbce9a4e7ba2280c26a77a92f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_RUNNING&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00034">34</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="9084653b5a5589b27dd9209f6b2be08d"></a><!-- doxytag: member="ntrxranging.c::SPEED_OF_AIR" ref="9084653b5a5589b27dd9209f6b2be08d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPEED_OF_AIR&nbsp;&nbsp;&nbsp;299.792458          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00053">53</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="bda7dbad1652e64fd46ba1f076e8c561"></a><!-- doxytag: member="ntrxranging.c::TOAOFFSETMEANACK_H" ref="bda7dbad1652e64fd46ba1f076e8c561" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOAOFFSETMEANACK_H&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00039">39</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="c4b52fa7548de093c430f40a029e3c32"></a><!-- doxytag: member="ntrxranging.c::TOAOFFSETMEANACK_L" ref="c4b52fa7548de093c430f40a029e3c32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOAOFFSETMEANACK_L&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00038">38</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="8806c5c2d262f9e4f241563c2f2487ac"></a><!-- doxytag: member="ntrxranging.c::TOAOFFSETMEANDATA_H" ref="8806c5c2d262f9e4f241563c2f2487ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOAOFFSETMEANDATA_H&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00044">44</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="2c923d13490e0a7bf842ff5825629ad9"></a><!-- doxytag: member="ntrxranging.c::TOAOFFSETMEANDATA_L" ref="2c923d13490e0a7bf842ff5825629ad9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOAOFFSETMEANDATA_L&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00043">43</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="51694c117d51247a38e8952a967a5b21"></a><!-- doxytag: member="ntrxranging.c::TXRESPTIME_H" ref="51694c117d51247a38e8952a967a5b21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TXRESPTIME_H&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00041">41</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="adf0e568b27221dbcc0d41f5af087da9"></a><!-- doxytag: member="ntrxranging.c::TXRESPTIME_L" ref="adf0e568b27221dbcc0d41f5af087da9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TXRESPTIME_L&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00040">40</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="27585647e5f4bcf79db2301ef54f2719"></a><!-- doxytag: member="ntrxranging.c::delay" ref="27585647e5f4bcf79db2301ef54f2719" args="(uint8_t *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double delay           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates airtime and substract all processing delays. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>is one set of register values </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>airtime </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01298">1298</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="10adfd36c3c127ae5d47e4d18654a717"></a><!-- doxytag: member="ntrxranging.c::dist" ref="10adfd36c3c127ae5d47e4d18654a717" args="(uint8_t *p1, uint8_t *p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double dist           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>p2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates the distance between two stations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p1</em>&nbsp;</td><td>is one set of register values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p2</em>&nbsp;</td><td>is one set of register values </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>distance in [m] </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01250">1250</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="361f0e5c2930b643953fbc188f21e3e3"></a><!-- doxytag: member="ntrxranging.c::error_handler" ref="361f0e5c2930b643953fbc188f21e3e3" args="(int16_t err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_handler           </td>
          <td>(</td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>err</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
error_handler:<p>
<a class="el" href="ntrxinit_8c.html#361f0e5c2930b643953fbc188f21e3e3">error_handler()</a> print out the error number and stop the system.<p>
Returns: None 
<p>
Definition at line <a class="el" href="main_8c-source.html#l00051">51</a> of file <a class="el" href="main_8c-source.html">main.c</a>.
</div>
</div><p>
<a class="anchor" name="54b149c9e384fc41d4e807ee6c4dd1f7"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingACK" ref="54b149c9e384fc41d4e807ee6c4dd1f7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingACK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function collects data from a hardware acknowledge. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the message pointer to the sended message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called on hardware ack, after an ranging packet is send. Depending on the RANGING_TYPE next steps will proccessed. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00353">353</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="3ffea022c9043c189bf64004ce13cfc4"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingInit" ref="3ffea022c9043c189bf64004ce13cfc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initialize the local ranging memory. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function must called once during initialisation to ensure that the local ranging memory is in initial position. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00166">166</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="7e64f6445b5262b0b6be979d4a4b9cc7"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingInterrupt" ref="7e64f6445b5262b0b6be979d4a4b9cc7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingInterrupt           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called on baseband timer interrupt (ranging timeouts). 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>baseband timer starts on every successfull ranging request and if no answer is received the interrupt occure and ranging will abort. This prevents blocking the phy for new remote ranging requests. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01464">1464</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="70907643ce9dfc85cd56cd19c1fb945c"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingIsIDLE" ref="70907643ce9dfc85cd56cd19c1fb945c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a> NTRXRangingIsIDLE           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the internal status of ranging. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function should be called before setting the driver into power down, to ensure that ranging is finished. </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if no ranging is pending, otherweise FALSE </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00155">155</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="77d2951842af5da82551588eeb2d0b3e"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingRequest" ref="77d2951842af5da82551588eeb2d0b3e" args="(MsgT *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingRequest           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMsgT.html">MsgT</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function try to start a ranging process. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the pointer to send message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called ever on a PD_RANGING_REQUEST. If transmitter is free, and no other ranging is running, this function starts a new ranging process.</dd></dl>
RANGING_TYPE_3W_A = ---&gt;,&lt;---,&lt;--- (singel measurement, distance local known) RANGING_TYPE_3W_B = ---&gt;,&lt;---,---&gt; (singel measurement, distance remote known) RANGING_TYPE_2W_PP= ---&gt;,&lt;--- (continue, distance remote known) 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00177">177</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="2a85e9cf03ffb50a4be65b7634d7625b"></a><!-- doxytag: member="ntrxranging.c::NTRXRangingRX" ref="2a85e9cf03ffb50a4be65b7634d7625b" args="(MsgT *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingRX           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMsgT.html">MsgT</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function collects data from a rx packet. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the pointer to recieved message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called on rx interrupt, after an ranging packet is recieved. Depending on the RANGING_TYPE next steps will proccessed. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00650">650</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="3e5285e9f49a0a4986ae628c18312105"></a><!-- doxytag: member="ntrxranging.c::NTRXReadRegisterACK" ref="3e5285e9f49a0a4986ae628c18312105" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXReadRegisterACK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the ack ranging registers after a packet transmission to remote ranging values. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01209">1209</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="185d2ef0380262bf075637de78122922"></a><!-- doxytag: member="ntrxranging.c::NTRXReadRegisterRX" ref="185d2ef0380262bf075637de78122922" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXReadRegisterRX           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the rx ranging registers after a packet reception to local ranging values. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01390">1390</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="b734661d6de9cc596ccab5b05ee656a7"></a><!-- doxytag: member="ntrxranging.c::NTRXSet0" ref="b734661d6de9cc596ccab5b05ee656a7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXSet0           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Takes a snapshot from local and remote ranging values for later distance calculation. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01340">1340</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="95181139ecf22fe6a2354771db31c3a5"></a><!-- doxytag: member="ntrxranging.c::NTRXSet1" ref="95181139ecf22fe6a2354771db31c3a5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXSet1           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Takes a snapshot from local and remote ranging values for later distance calculation. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01365">1365</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="5d212d5040fbb60593d70d92edb9e3c6"></a><!-- doxytag: member="ntrxranging.c::NTRXStartTimeout" ref="5d212d5040fbb60593d70d92edb9e3c6" args="(uint16_t to_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXStartTimeout           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>to_ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start timeout. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>to_ms</em>&nbsp;</td><td>in milliseconds from 1ms up to 200ms. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01435">1435</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="a3c1b65f74445b59384eb28802dd8e25"></a><!-- doxytag: member="ntrxranging.c::NTRXStopTimeout" ref="a3c1b65f74445b59384eb28802dd8e25" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXStopTimeout           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cancel running timeout. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01457">1457</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="ad61da6bf12a1b0f0b4d986cead4143c"></a><!-- doxytag: member="ntrxranging.c::RangingRegisterCallback" ref="ad61da6bf12a1b0f0b4d986cead4143c" args="(permissionfn_t rgPermission, mem_assignfn_t rgGetMemory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RangingRegisterCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a>&nbsp;</td>
          <td class="paramname"> <em>rgPermission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a>&nbsp;</td>
          <td class="paramname"> <em>rgGetMemory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers function pointers to ranging specific functions. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rgPermission</em>&nbsp;</td><td>If set the PHY will ask the user by this function for permission to perform ranging with a given remote MAC address. Default on startup for this parameter is NULL, i.e. ranging will always be performed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rgGetMemory</em>&nbsp;</td><td>If set the PHY will call this function in order to obtain a valid piece of memory to store internal ranging states while ranging with a certain remote station. Default for this parameter is NULL, i.e. the PHY will be capable to perform ranging with <em>only</em> <em>one</em> ranging partner. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Ping-Pong ranging will be rejected if rgGetMemory is not assigned. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01518">1518</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="93806a2ab72ce9ba673c0ac29fd87395"></a><!-- doxytag: member="ntrxranging.c::modeSet" ref="93806a2ab72ce9ba673c0ac29fd87395" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPhyModeSetT.html">PhyModeSetT</a> <a class="el" href="ntrxutil_8c.html#93806a2ab72ce9ba673c0ac29fd87395">modeSet</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
group of parameters that define a transmission mode. 
<p>
Definition at line <a class="el" href="ntrxutil_8c-source.html#l00069">69</a> of file <a class="el" href="ntrxutil_8c-source.html">ntrxutil.c</a>.
</div>
</div><p>
<a class="anchor" name="c6bf7bba136f1383deb2932be153b881"></a><!-- doxytag: member="ntrxranging.c::phyPIB" ref="c6bf7bba136f1383deb2932be153b881" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPhyPIB.html">PhyPIB</a> <a class="el" href="main_8c.html#c6bf7bba136f1383deb2932be153b881">phyPIB</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
structure for all layer configuration settings 
<p>

<p>
Definition at line <a class="el" href="phy_8c-source.html#l00182">182</a> of file <a class="el" href="phy_8c-source.html">phy.c</a>.
</div>
</div><p>
<a class="anchor" name="d978f7ee674fb95595d77d2966423a8e"></a><!-- doxytag: member="ntrxranging.c::phySendMsgUp" ref="d978f7ee674fb95595d77d2966423a8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#10be15f806ba2b998eabaa78f85402ea">callbackfn_t</a> <a class="el" href="phy_8c.html#d978f7ee674fb95595d77d2966423a8e">phySendMsgUp</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used to send msg to upper layer =&gt; <a class="el" href="phy_8c.html">phy.c</a> 
<p>
Definition at line <a class="el" href="phy_8c-source.html#l00161">161</a> of file <a class="el" href="phy_8c-source.html">phy.c</a>.
</div>
</div><p>
<a class="anchor" name="e7316be52deeeed3d7d3b98cc045f7d3"></a><!-- doxytag: member="ntrxranging.c::prMEM" ref="e7316be52deeeed3d7d3b98cc045f7d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRangingT.html">RangingT</a>* <a class="el" href="ntrxranging_8c.html#e7316be52deeeed3d7d3b98cc045f7d3">prMEM</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to ranging memory 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00078">78</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="aee5e1b194e05427cc1e93b4a515057c"></a><!-- doxytag: member="ntrxranging.c::rangingGetMemory" ref="aee5e1b194e05427cc1e93b4a515057c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a> <a class="el" href="ntrxranging_8c.html#aee5e1b194e05427cc1e93b4a515057c">rangingGetMemory</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00090">90</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="1f5fef49ba274950f88214cce035a97c"></a><!-- doxytag: member="ntrxranging.c::rangingMEM" ref="1f5fef49ba274950f88214cce035a97c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRangingT.html">RangingT</a> <a class="el" href="ntrxranging_8c.html#1f5fef49ba274950f88214cce035a97c">rangingMEM</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
local ranging memory for 3W_A &amp; 3W_B 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00077">77</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="e1bf7955c4b6c0202e5e81a442e1269f"></a><!-- doxytag: member="ntrxranging.c::rangingMSG" ref="e1bf7955c4b6c0202e5e81a442e1269f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRangingMsgT.html">RangingMsgT</a> <a class="el" href="ntrxranging_8c.html#e1bf7955c4b6c0202e5e81a442e1269f">rangingMSG</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used to communicate with upper layer 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00076">76</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="4cb90114e062af5522c606b7bdfcbd96"></a><!-- doxytag: member="ntrxranging.c::rangingPermission" ref="4cb90114e062af5522c606b7bdfcbd96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a> <a class="el" href="ntrxranging_8c.html#4cb90114e062af5522c606b7bdfcbd96">rangingPermission</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00085">85</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="ccbebab9f81ef8a98fa9ca3fa5e632f2"></a><!-- doxytag: member="ntrxranging.c::recBuffer" ref="ccbebab9f81ef8a98fa9ca3fa5e632f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMsgT.html">MsgT</a> <a class="el" href="ntrxranging_8c.html#ccbebab9f81ef8a98fa9ca3fa5e632f2">recBuffer</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
buffers recently recieved msg 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00081">81</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="f5ae82768750b53466cd7d710c609e51"></a><!-- doxytag: member="ntrxranging.c::to_cnt_down" ref="f5ae82768750b53466cd7d710c609e51" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="ntrxranging_8c.html#f5ae82768750b53466cd7d710c609e51">to_cnt_down</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00093">93</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="ddd312e4dfa0b4c6a0d9b8783961c3e2"></a><!-- doxytag: member="ntrxranging.c::to_mod" ref="ddd312e4dfa0b4c6a0d9b8783961c3e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="ntrxranging_8c.html#ddd312e4dfa0b4c6a0d9b8783961c3e2">to_mod</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00095">95</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="1349017ec2b3bb42fe1ad5abf4f074e3"></a><!-- doxytag: member="ntrxranging.c::to_stop" ref="1349017ec2b3bb42fe1ad5abf4f074e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="ntrxranging_8c.html#1349017ec2b3bb42fe1ad5abf4f074e3">to_stop</a> = FALSE<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00097">97</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="c8a2e3eac97d762116052cf5cfdd2584"></a><!-- doxytag: member="ntrxranging.c::txSendMsg" ref="c8a2e3eac97d762116052cf5cfdd2584" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMsgT.html">MsgT</a>* <a class="el" href="phy_8c.html#c8a2e3eac97d762116052cf5cfdd2584">txSendMsg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to store last transmitted message. 
<p>
Definition at line <a class="el" href="phy_8c-source.html#l00172">172</a> of file <a class="el" href="phy_8c-source.html">phy.c</a>.
</div>
</div><p>
<a class="anchor" name="97bc9a3f01dfc7d193c5f9e80abc409d"></a><!-- doxytag: member="ntrxranging.c::upMsg" ref="97bc9a3f01dfc7d193c5f9e80abc409d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMsgT.html">MsgT</a> <a class="el" href="phy_8c.html#97bc9a3f01dfc7d193c5f9e80abc409d">upMsg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
message struct for all received data. 
<p>
Definition at line <a class="el" href="phy_8c-source.html#l00166">166</a> of file <a class="el" href="phy_8c-source.html">phy.c</a>.
</div>
</div><p>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>
	</head>
<body bgcolor="#ffffff"><img src="blind.gif" width="20" height="20">
</body>
</html>
