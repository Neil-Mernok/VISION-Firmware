<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nanoLOC Demo Driver: portation/keys.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_860a6933db7822edd664cf8ce41dbd66.html">portation</a></div>
<h1>keys.c File Reference</h1>This file contains the implementations for key functions. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="ntrxtypes_8h-source.html">ntrxtypes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="hwclock_8h-source.html">hwclock.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="keys_8h-source.html">keys.h</a>&quot;</code><br>

<p>
<a href="keys_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="keys_8c.html#8caf96f2cb44c74717d932fb6b5fa611">GetKeyState</a> (uint8_t key_index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the state of the key given by index.  <a href="#8caf96f2cb44c74717d932fb6b5fa611"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="keys_8c.html#061dc0a0255c492fc6adb486137aba88">keyPressed</a> [NKEYS] = {FALSE,FALSE,FALSE}</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="keys_8c.html#de40f40cd148f5143efa1d38cc542703">keyPressedStartTime</a> [NKEYS] = {0,0,0}</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains the implementations for key functions. 
<p>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2006-08-29 <code>Copyright</code> 2006- Nanotron Technologies </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andreas Krause</dd></dl>
<dl class="rcs" compact><dt><b>Revision</b></dt><dd>6310 </dd></dl>
<dl class="rcs" compact><dt><b>Date</b></dt><dd>2009-04-22 14:28:30 +0200 (Mi, 22 Apr 2009) </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedBy</b></dt><dd>sra </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedDate</b></dt><dd>2009-04-22 14:28:30 +0200 (Mi, 22 Apr 2009) </dd></dl>

<p>
Definition in file <a class="el" href="keys_8c-source.html">keys.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="8caf96f2cb44c74717d932fb6b5fa611"></a><!-- doxytag: member="keys.c::GetKeyState" ref="8caf96f2cb44c74717d932fb6b5fa611" args="(uint8_t key_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t GetKeyState           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>key_index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the state of the key given by index. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key_index</em>&nbsp;</td><td>Index number of the key. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>One of the following values will be returned as long as the given key is pressed/not pressed: <table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><b>Value</b></td><td><b>Description</b> </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#42819d478612ef90666b18dfacd44ea6">KEY_NOT_PRESSED</a> </td><td>if the key is currently not pressed,</td><td></td></tr>
<tr>
<td><a class="el" href="keys_8h.html#8386b89daf8ec3a1805554fd95b80a9e">KEY_PRESSED</a> </td><td>key has been pressed for &lt; 1 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#8264ff33541be69d92196213278ddb81">KEY_PRESSED_FOR_1S</a> </td><td>if the key has been pressed for 1..2 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#fdaced0342c2f56dec53f5c812099e34">KEY_PRESSED_FOR_2S</a> </td><td>if the key has been pressed for 2..3 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#075d288eef80f71635ec499fca34b3f9">KEY_PRESSED_FOR_3S</a> </td><td>if the key has been pressed for 3..4 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#04389585c80c4c5fee943cb48fe308e5">KEY_PRESSED_FOR_4S</a> </td><td>if the key has been pressed for 4..5 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#43ef75877ab3ce6a0b268cfbe22d0360">KEY_PRESSED_FOR_5S</a> </td><td>if the key has been pressed for &gt; 5 sec, </td></tr>
</table>
There is a special behaviour <em>once</em> after key release. The function will then return one of these values: <table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><b>Value</b></td><td><b>Description</b> </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#7289f1ae18cb4742bf9f4e1965b63071">KEY_REL_AFTER_10MS</a> </td><td>if the key was released after &lt; 1 sec,</td><td></td></tr>
<tr>
<td><a class="el" href="keys_8h.html#9e9346747ee34398968a604b6a88f08e">KEY_REL_AFTER_1S</a> </td><td>if the key was released after 1..2 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#28bca403d46afffd63c71bc9b977dc8b">KEY_REL_AFTER_2S</a> </td><td>if the key was released after 2..3 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#69d7b969c4fc42011d96809a89bf1fb0">KEY_REL_AFTER_3S</a> </td><td>if the key was released after 3..4 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#06307b2b74026911d5fa8c789ed081ef">KEY_REL_AFTER_4S</a> </td><td>if the key was released after 4..5 sec, </td></tr>
<tr>
<td><a class="el" href="keys_8h.html#b2aa33ea89b96412698f3e087dba5596">KEY_REL_AFTER_5S</a> </td><td>if the key was released after &gt; 5 sec, </td></tr>
</table>
</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>To find out if the key is currently pressed this sentence must be true: (GetKeyState(mykey) &amp; KEY_PRESSED) == KEY_PRESSED </dd></dl>

<p>
Definition at line <a class="el" href="keys_8c-source.html#l00029">29</a> of file <a class="el" href="keys_8c-source.html">keys.c</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="061dc0a0255c492fc6adb486137aba88"></a><!-- doxytag: member="keys.c::keyPressed" ref="061dc0a0255c492fc6adb486137aba88" args="[NKEYS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="keys_8c.html#061dc0a0255c492fc6adb486137aba88">keyPressed</a>[NKEYS] = {FALSE,FALSE,FALSE}<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="keys_8c-source.html#l00024">24</a> of file <a class="el" href="keys_8c-source.html">keys.c</a>.
</div>
</div><p>
<a class="anchor" name="de40f40cd148f5143efa1d38cc542703"></a><!-- doxytag: member="keys.c::keyPressedStartTime" ref="de40f40cd148f5143efa1d38cc542703" args="[NKEYS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="keys_8c.html#de40f40cd148f5143efa1d38cc542703">keyPressedStartTime</a>[NKEYS] = {0,0,0}<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="keys_8c-source.html#l00025">25</a> of file <a class="el" href="keys_8c-source.html">keys.c</a>.
</div>
</div><p>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>
	</head>
<body bgcolor="#ffffff"><img src="blind.gif" width="20" height="20">
</body>
</html>
