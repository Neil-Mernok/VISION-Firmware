<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nanoLOC Demo Driver: phy/ntrxinit.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_db525a4c00d7db3d2afed83adf8f196e.html">phy</a></div>
<h1>ntrxinit.c File Reference</h1>Functions for the initialization of the nanoLOC transceiver. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="config_8h-source.html">config.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ntrxtypes_8h-source.html">ntrxtypes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ntrxutil_8h-source.html">ntrxutil.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="hwclock_8h-source.html">hwclock.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nnspi_8h-source.html">nnspi.h</a>&quot;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>

<p>
<a href="ntrxinit_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxinit_8c.html#361f0e5c2930b643953fbc188f21e3e3">error_handler</a> (int16_t err)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxinit_8c.html#a4057bfa2c651859436e3798ceb3f0c6">NTRXInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializing of the transceiver chip.  <a href="#a4057bfa2c651859436e3798ceb3f0c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxinit_8c.html#134c3bd25c3c49b11f8447ebeea9614c">NTRXSetDefaultMode</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structPhyPIB.html">PhyPIB</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxinit_8c.html#c6bf7bba136f1383deb2932be153b881">phyPIB</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">structure for all layer configuration settings  <a href="#c6bf7bba136f1383deb2932be153b881"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxinit_8c.html#cb7119ffe7527eaaff5c594ba775112b">TRX_SYNC_WORD</a> []</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions for the initialization of the nanoLOC transceiver. 
<p>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2007-Dez-4 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>S.Radtke <code></code>(C) 2007 Nanotron Technologies</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>BuildNumber = "BuildNumber : 7951";<p>
This file contains the source code for the implementation of the NA5TR1 initialisation.</dd></dl>
<dl class="rcs" compact><dt><b>Revision</b></dt><dd>7207 </dd></dl>
<dl class="rcs" compact><dt><b>Date</b></dt><dd>2009-11-25 10:58:46 +0100 (Mi, 25 Nov 2009) </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedBy</b></dt><dd>sra </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedDate</b></dt><dd>2009-11-25 10:58:46 +0100 (Mi, 25 Nov 2009) </dd></dl>

<p>
Definition in file <a class="el" href="ntrxinit_8c-source.html">ntrxinit.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="361f0e5c2930b643953fbc188f21e3e3"></a><!-- doxytag: member="ntrxinit.c::error_handler" ref="361f0e5c2930b643953fbc188f21e3e3" args="(int16_t err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_handler           </td>
          <td>(</td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>err</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
error_handler:<p>
<a class="el" href="ntrxinit_8c.html#361f0e5c2930b643953fbc188f21e3e3">error_handler()</a> print out the error number and stop the system.<p>
Returns: None 
<p>
Definition at line <a class="el" href="main_8c-source.html#l00051">51</a> of file <a class="el" href="main_8c-source.html">main.c</a>.
</div>
</div><p>
<a class="anchor" name="a4057bfa2c651859436e3798ceb3f0c6"></a><!-- doxytag: member="ntrxinit.c::NTRXInit" ref="a4057bfa2c651859436e3798ceb3f0c6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a> NTRXInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializing of the transceiver chip. 
<p>
This function initializes all registers of the nanoLOC transceiver chip. This function should only be called once.<p>
If this function is called for the first time, the structure settingVal is set to the predefined default mode values. After setting up the SPI interface this function compares the version and revision register of the chip with the values expected by the driver. If these don't match, the software will call an error function and halts. The reason for this drastic reaction is that the driver can not garantie a non interfering behaviour. 
<p>
! Some short delay seems necessary here?? 
<p>
Definition at line <a class="el" href="ntrxinit_8c-source.html#l00153">153</a> of file <a class="el" href="ntrxinit_8c-source.html">ntrxinit.c</a>.
</div>
</div><p>
<a class="anchor" name="134c3bd25c3c49b11f8447ebeea9614c"></a><!-- doxytag: member="ntrxinit.c::NTRXSetDefaultMode" ref="134c3bd25c3c49b11f8447ebeea9614c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXSetDefaultMode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxinit_8c-source.html#l00041">41</a> of file <a class="el" href="ntrxinit_8c-source.html">ntrxinit.c</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="c6bf7bba136f1383deb2932be153b881"></a><!-- doxytag: member="ntrxinit.c::phyPIB" ref="c6bf7bba136f1383deb2932be153b881" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPhyPIB.html">PhyPIB</a> <a class="el" href="main_8c.html#c6bf7bba136f1383deb2932be153b881">phyPIB</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
structure for all layer configuration settings 
<p>

<p>
Definition at line <a class="el" href="phy_8c-source.html#l00182">182</a> of file <a class="el" href="phy_8c-source.html">phy.c</a>.
</div>
</div><p>
<a class="anchor" name="cb7119ffe7527eaaff5c594ba775112b"></a><!-- doxytag: member="ntrxinit.c::TRX_SYNC_WORD" ref="cb7119ffe7527eaaff5c594ba775112b" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t <a class="el" href="ntrxinit_8c.html#cb7119ffe7527eaaff5c594ba775112b">TRX_SYNC_WORD</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment">
    <a class="code" href="config_8h.html#ab8e79435f188eb36765bb9dab08d424">CONFIG_DEFAULT_SYNCWORD</a>
</pre></div>Default sync word for transceiver. 
<p>
Definition at line <a class="el" href="ntrxinit_8c-source.html#l00037">37</a> of file <a class="el" href="ntrxinit_8c-source.html">ntrxinit.c</a>.
</div>
</div><p>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>
	</head>
<body bgcolor="#ffffff"><img src="blind.gif" width="20" height="20">
</body>
</html>
