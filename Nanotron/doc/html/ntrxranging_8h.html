<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>nanoLOC Demo Driver: include/ntrxranging.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_6e2f0f50c68f4b0ea8bf72de81d50b90.html">include</a></div>
<h1>ntrxranging.h File Reference</h1>Ranging support functions. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &quot;<a class="el" href="ntrxtypes_8h-source.html">ntrxtypes.h</a>&quot;</code><br>

<p>
<a href="ntrxranging_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRangingMsgT.html">RangingMsgT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure for the ranging result.  <a href="structRangingMsgT.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#d9de8d976b1c4770082b3480c32a1bda">DEBUG_P</a>(args,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debugging output using printf. Can be globally disabled with RANGE_DEBUG .  <a href="#d9de8d976b1c4770082b3480c32a1bda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#e9741537e8095af56c2fd3ec3071610f">MSG_TYPE_DATA</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#a9e59b717398be64fe394f4a563db416">MSG_TYPE_RANGING</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#c0277c3b8156b365bfec69dbbab946f2">RANGING_PROTOCOL_LEN</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the length of the ranging protocol.  <a href="#c0277c3b8156b365bfec69dbbab946f2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#a6270ff7ecf29c19fb65bf752061050e">RANGING_TIMEOUT</a>&nbsp;&nbsp;&nbsp;250</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#642da767f3a0dd99b0ae8753a08a5095">RANGING_TYPE_2W_PP</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the ranging type. This type of ranging consists of one request packet, and one answer packet with following behavior: ==&gt;, &lt;== (distance is remote generated). The station which receives the request gets the distance as indication in the registered callback function. Advantage: Only 2 packets generate a distance (low power consumption) Disadvantage: The first ranging dont generate a distance. (delay).  <a href="#642da767f3a0dd99b0ae8753a08a5095"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#931c72035d290af0c22c2c25171006b5">RANGING_TYPE_3W_A</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the ranging type. This type of ranging consists of one request packet, and two answer packets with following behavior: ==&gt;, &lt;==, &lt;== (distance is local generated). The station which requests the ranging, gets the distance as indication in the registered callback function.  <a href="#931c72035d290af0c22c2c25171006b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#3c0468417436288ecb7d2a2b084fbac0">RANGING_TYPE_3W_B</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines the ranging type. This type of ranging consists of one request packet, and two answer packets with following behavior: ==&gt;, &lt;==, ==&gt; (distance is remote generated). The station which receives the request gets the distance as indication in the registered callback function.  <a href="#3c0468417436288ecb7d2a2b084fbac0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void *(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a> (uint16_t memSize, uint8_t *macAddr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function pointer which the PHY uses to request memory for its internal ranging states regarding the given remote MAC address.  <a href="#bca46fdde6f8c39405c49cbd2cbda12f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a> (uint8_t *macAddr, uint8_t *data, uint8_t *len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function pointer type which the PHY uses to get permission for automatic ranging measurements with the given MAC address.  <a href="#5940c484fd70f6aca08bea09db301cdc"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#54b149c9e384fc41d4e807ee6c4dd1f7">NTRXRangingACK</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function collects data from a hardware acknowledge.  <a href="#54b149c9e384fc41d4e807ee6c4dd1f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#ad0d27399b4a31745c1d82161a584b7d">NTRXRangingInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initialize the local ranging memory.  <a href="#ad0d27399b4a31745c1d82161a584b7d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#7e64f6445b5262b0b6be979d4a4b9cc7">NTRXRangingInterrupt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called on baseband timer interrupt (ranging timeouts).  <a href="#7e64f6445b5262b0b6be979d4a4b9cc7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#70907643ce9dfc85cd56cd19c1fb945c">NTRXRangingIsIDLE</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function returns the internal status of ranging.  <a href="#70907643ce9dfc85cd56cd19c1fb945c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#77d2951842af5da82551588eeb2d0b3e">NTRXRangingRequest</a> (<a class="el" href="structMsgT.html">MsgT</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function try to start a ranging process.  <a href="#77d2951842af5da82551588eeb2d0b3e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#2a85e9cf03ffb50a4be65b7634d7625b">NTRXRangingRX</a> (<a class="el" href="structMsgT.html">MsgT</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function collects data from a rx packet.  <a href="#2a85e9cf03ffb50a4be65b7634d7625b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ntrxranging_8h.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a> (<a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a> rgPermission, <a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a> rgGetMemory)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers function pointers to ranging specific functions.  <a href="#ad61da6bf12a1b0f0b4d986cead4143c"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Ranging support functions. 
<p>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2009-07-07 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Christian Bock <code></code>(C) 2009 Nanotron Technologies</dd></dl>
This file contains the definitions of the ranging support and calculation of a ranging cycle with the nanoLOC chip.<p>
<dl class="rcs" compact><dt><b>Revision</b></dt><dd>6844 </dd></dl>
<dl class="rcs" compact><dt><b>Date</b></dt><dd>2009-08-13 09:06:26 +0200 (Do, 13 Aug 2009) </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedBy</b></dt><dd>sra </dd></dl>
<dl class="rcs" compact><dt><b>LastChangedDate</b></dt><dd>2009-08-13 09:06:26 +0200 (Do, 13 Aug 2009) </dd></dl>

<p>
Definition in file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="d9de8d976b1c4770082b3480c32a1bda"></a><!-- doxytag: member="ntrxranging.h::DEBUG_P" ref="d9de8d976b1c4770082b3480c32a1bda" args="(args,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_P          </td>
          <td>(</td>
          <td class="paramtype">args,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"> <em>...</em>&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Debugging output using printf. Can be globally disabled with RANGE_DEBUG . 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00037">37</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="e9741537e8095af56c2fd3ec3071610f"></a><!-- doxytag: member="ntrxranging.h::MSG_TYPE_DATA" ref="e9741537e8095af56c2fd3ec3071610f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_TYPE_DATA&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00055">55</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="a9e59b717398be64fe394f4a563db416"></a><!-- doxytag: member="ntrxranging.h::MSG_TYPE_RANGING" ref="a9e59b717398be64fe394f4a563db416" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_TYPE_RANGING&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00056">56</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="c0277c3b8156b365bfec69dbbab946f2"></a><!-- doxytag: member="ntrxranging.h::RANGING_PROTOCOL_LEN" ref="c0277c3b8156b365bfec69dbbab946f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_PROTOCOL_LEN&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the length of the ranging protocol. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00065">65</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="a6270ff7ecf29c19fb65bf752061050e"></a><!-- doxytag: member="ntrxranging.h::RANGING_TIMEOUT" ref="a6270ff7ecf29c19fb65bf752061050e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_TIMEOUT&nbsp;&nbsp;&nbsp;250          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00059">59</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="642da767f3a0dd99b0ae8753a08a5095"></a><!-- doxytag: member="ntrxranging.h::RANGING_TYPE_2W_PP" ref="642da767f3a0dd99b0ae8753a08a5095" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_TYPE_2W_PP&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the ranging type. This type of ranging consists of one request packet, and one answer packet with following behavior: ==&gt;, &lt;== (distance is remote generated). The station which receives the request gets the distance as indication in the registered callback function. Advantage: Only 2 packets generate a distance (low power consumption) Disadvantage: The first ranging dont generate a distance. (delay). 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00097">97</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="931c72035d290af0c22c2c25171006b5"></a><!-- doxytag: member="ntrxranging.h::RANGING_TYPE_3W_A" ref="931c72035d290af0c22c2c25171006b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_TYPE_3W_A&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the ranging type. This type of ranging consists of one request packet, and two answer packets with following behavior: ==&gt;, &lt;==, &lt;== (distance is local generated). The station which requests the ranging, gets the distance as indication in the registered callback function. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00075">75</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="3c0468417436288ecb7d2a2b084fbac0"></a><!-- doxytag: member="ntrxranging.h::RANGING_TYPE_3W_B" ref="3c0468417436288ecb7d2a2b084fbac0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RANGING_TYPE_3W_B&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the ranging type. This type of ranging consists of one request packet, and two answer packets with following behavior: ==&gt;, &lt;==, ==&gt; (distance is remote generated). The station which receives the request gets the distance as indication in the registered callback function. 
<p>

<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00085">85</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="bca46fdde6f8c39405c49cbd2cbda12f"></a><!-- doxytag: member="ntrxranging.h::mem_assignfn_t" ref="bca46fdde6f8c39405c49cbd2cbda12f" args="(uint16_t memSize, uint8_t *macAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(*) <a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a>(uint16_t memSize, uint8_t *macAddr)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function pointer which the PHY uses to request memory for its internal ranging states regarding the given remote MAC address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>memSize</em>&nbsp;</td><td>Size of memory which the PHY needs to perform ranging with the given remote station. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>macAddr</em>&nbsp;</td><td>MAC address of the remote ranging partner. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to a piece of memory of the requested size that the PHY may use. NULL if there is no memory available for the given remote station. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="ntrxranging_8c.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a></dd></dl>
Implement a function with this interface above the PHY layer if you wish to perform ping pong ranging. The PHY needs a seperate piece of memory to save its internal ranging state for <em>each</em> remote station. The user is responsible for the memory management. i.e. memory allocation and assignment corresponding to the given MAC address. Register your function to the PHY by calling <a class="el" href="ntrxranging_8c.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a> . 
<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00198">198</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<a class="anchor" name="5940c484fd70f6aca08bea09db301cdc"></a><!-- doxytag: member="ntrxranging.h::permissionfn_t" ref="5940c484fd70f6aca08bea09db301cdc" args="(uint8_t *macAddr, uint8_t *data, uint8_t *len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a>(*) <a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a>(uint8_t *macAddr, uint8_t *data, uint8_t *len)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function pointer type which the PHY uses to get permission for automatic ranging measurements with the given MAC address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>macAddr</em>&nbsp;</td><td>MAC address of the remote ranging device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>user data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>length of data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if ranging with the remote device will be permitted; FALSE otherwise. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="ntrxranging_8c.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a></dd></dl>
Implement a function with this interface above the PHY layer that decides whether or not the PHY may perform ranging with the remote station. Register your function to the PHY by calling <a class="el" href="ntrxranging_8c.html#ad61da6bf12a1b0f0b4d986cead4143c">RangingRegisterCallback</a> . 
<p>
Definition at line <a class="el" href="ntrxranging_8h-source.html#l00177">177</a> of file <a class="el" href="ntrxranging_8h-source.html">ntrxranging.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="54b149c9e384fc41d4e807ee6c4dd1f7"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingACK" ref="54b149c9e384fc41d4e807ee6c4dd1f7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingACK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function collects data from a hardware acknowledge. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the message pointer to the sended message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called on hardware ack, after an ranging packet is send. Depending on the RANGING_TYPE next steps will proccessed. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00353">353</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="ad0d27399b4a31745c1d82161a584b7d"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingInit" ref="ad0d27399b4a31745c1d82161a584b7d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initialize the local ranging memory. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function must called once during initialisation to ensure that the local ranging memory is in initial position. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00166">166</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="7e64f6445b5262b0b6be979d4a4b9cc7"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingInterrupt" ref="7e64f6445b5262b0b6be979d4a4b9cc7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingInterrupt           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called on baseband timer interrupt (ranging timeouts). 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>baseband timer starts on every successfull ranging request and if no answer is received the interrupt occure and ranging will abort. This prevents blocking the phy for new remote ranging requests. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01464">1464</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="70907643ce9dfc85cd56cd19c1fb945c"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingIsIDLE" ref="70907643ce9dfc85cd56cd19c1fb945c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ntrxtypes_8h.html#04dd5074964518403bf944f2b240a5f8">bool_t</a> NTRXRangingIsIDLE           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the internal status of ranging. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function should be called before setting the driver into power down, to ensure that ranging is finished. </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if no ranging is pending, otherweise FALSE </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00155">155</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="77d2951842af5da82551588eeb2d0b3e"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingRequest" ref="77d2951842af5da82551588eeb2d0b3e" args="(MsgT *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingRequest           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMsgT.html">MsgT</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function try to start a ranging process. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the pointer to send message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called ever on a PD_RANGING_REQUEST. If transmitter is free, and no other ranging is running, this function starts a new ranging process.</dd></dl>
RANGING_TYPE_3W_A = ---&gt;,&lt;---,&lt;--- (singel measurement, distance local known) RANGING_TYPE_3W_B = ---&gt;,&lt;---,---&gt; (singel measurement, distance remote known) RANGING_TYPE_2W_PP= ---&gt;,&lt;--- (continue, distance remote known) 
<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00177">177</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="2a85e9cf03ffb50a4be65b7634d7625b"></a><!-- doxytag: member="ntrxranging.h::NTRXRangingRX" ref="2a85e9cf03ffb50a4be65b7634d7625b" args="(MsgT *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NTRXRangingRX           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMsgT.html">MsgT</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function collects data from a rx packet. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>this is the pointer to recieved message </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is called on rx interrupt, after an ranging packet is recieved. Depending on the RANGING_TYPE next steps will proccessed. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l00650">650</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<a class="anchor" name="ad61da6bf12a1b0f0b4d986cead4143c"></a><!-- doxytag: member="ntrxranging.h::RangingRegisterCallback" ref="ad61da6bf12a1b0f0b4d986cead4143c" args="(permissionfn_t rgPermission, mem_assignfn_t rgGetMemory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RangingRegisterCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ntrxranging_8h.html#5940c484fd70f6aca08bea09db301cdc">permissionfn_t</a>&nbsp;</td>
          <td class="paramname"> <em>rgPermission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ntrxranging_8h.html#bca46fdde6f8c39405c49cbd2cbda12f">mem_assignfn_t</a>&nbsp;</td>
          <td class="paramname"> <em>rgGetMemory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers function pointers to ranging specific functions. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rgPermission</em>&nbsp;</td><td>If set the PHY will ask the user by this function for permission to perform ranging with a given remote MAC address. Default on startup for this parameter is NULL, i.e. ranging will always be performed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rgGetMemory</em>&nbsp;</td><td>If set the PHY will call this function in order to obtain a valid piece of memory to store internal ranging states while ranging with a certain remote station. Default for this parameter is NULL, i.e. the PHY will be capable to perform ranging with <em>only</em> <em>one</em> ranging partner. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Ping-Pong ranging will be rejected if rgGetMemory is not assigned. </dd></dl>

<p>
Definition at line <a class="el" href="ntrxranging_8c-source.html#l01518">1518</a> of file <a class="el" href="ntrxranging_8c-source.html">ntrxranging.c</a>.
</div>
</div><p>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title></title>
	</head>
<body bgcolor="#ffffff"><img src="blind.gif" width="20" height="20">
</body>
</html>
